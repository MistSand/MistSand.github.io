---
layout:     post                    # 使用的布局（不需要改）
title:      【学习笔记】数据结构——图   # 标题 
subtitle:   学习图的概念以及用法      	#副标题
date:       2020-04-28              # 时间
author:     BY Mist                 # 作者
header-img: img/post-bg-2015.jpg    #这篇文章标题背景图片
catalog: true                       # 是否归档
tags:                               #标签
    - 学习笔记
---
# 【学习笔记】《TCP/IP协议详解》

> 该篇文章为学习笔记，学习内容为 —— 《TCP/IP协议详解》



### 《TCP/IP协议详解》卷一



#### 第 3 章 IP：网际协议

IP 提供不可靠、无连接的数据报传送服务

不可靠（unreliable）：不能保证IP数据报能够成功到达目的地，仅提供最好的传输服务。如果发生错误，直接丢包，由上层（TCP）来保证可靠性

无连接（connectionless）：不维护关于后续数据报的状态信息，每个数据报的处理是相互独立的。

本章学习：

* IP首部中各个字段
* IP路由选择
* 子网
* 命令：ifconfig、netstat



##### IP 首部

big endian （大端格式）—— 网络字节序

little endian （小端格式）

![image-20200509133401483](F:\学习资料\GitChat\Markdown\image-20200509133401483.png)

* 版本：目前协议版本号是4，IPv4

* 首部长度：首部占 32bit 的数目，包括任何选项，4字节，首部最长为60字节
* 服务类型（TOS）：3 bit 的优先权子字段，4 bit 的 TOS 子字段，1 bit 未用位但必须置0
  * 4 bit 的 TOS 分别代表：最小时延、最大吞吐量、最高可靠性、最小费用， 4 bit均为0 就是一般服务
* 总长度：整个IP数据报的长度，以字节为单位，最长 65535 字节
* 标识字段：唯一的标识主机发送的每一份数据报。分片、重组
* TTL（time-to-live）：生存时间字段设置了数据报可以经过的最多路由器数。初始值由源主机设置，经过一个路由器就会 -1，值为 0 就会丢弃，并发送 ICMP 报文通知源主机。
* 协议字段：
* 首部检验和字段：根据IP首部计算的检验和码。
* 任选项：可变长的可选信息

##### IP 路由选择

IP 层既可以配置成路由器的功能，也可以配置成主机

* 主机从不把数据报从一个接口转发到另一个接口
* 路由器则要转发数据报

IP 层在内存中有一个路由表

* 目的 IP 地址：主机地址/网络地址
* 下一站路由器（next-hop router）的IP地址
* 标志
* 为数据报的传输指定一个网络接口

IP 路由器选择是逐跳地（hop-by-hop）进行的。

IP 路由选择主要完成以下这些功能：

1. 搜索路由表，寻找能与目的 IP 地址完全匹配的表目（网络号和主机号都要匹配）
2. 搜索路由表，寻找能与目的网络号相匹配的表目。
3. 搜索路由表，寻找标为“默认（default）”的表目。

为一个网络指定一个路由器，而不必为每个主机指定一个路由器，这是 IP 路由选择机制的另一个基本特性。



##### 子网寻址

子网编址：不是把 IP 地址看成由单纯的一个网络号和一个主机号组成，而是把主机号再分成一个子网号和一个主机号。

#### 第 17 章





## 网络模型

OSI 七层模型：

* 应用层
* 表示层
* 会话层
* 传输层
* 网络层
* 数据链路层
* 物理层

TCP/IP五层模型

* 应用层：Telenet、FTP、SMTP、DNS、HTTP、以及其他应用协议
* 传输层：TCP、UDP
* 网络层：IP、ARP、RARP、ICMP
* 网络接口层：各种通信网络接口（以太网等）
  * 数据链路层
  * 物理层







